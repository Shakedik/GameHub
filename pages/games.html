<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameHub - כל המשחקים</title>
    <link rel="stylesheet" href="../css/games.css">
    <link rel="stylesheet" href="../css/profiles.css">
</head>

<body>

<header class="main-header">
<div class="logo">
    <img src="../img/imagelogo.png" alt="Logo" class="header-logo-img">
    <span>GameHub</span>
</div>
    <nav class="nav-menu">
        <a href="#">משחקים מובילים</a>
        <a href="#">משחקים אהובים</a>
        <a href="#">משחקי מחשב</a>

        <div class="categories-dropdown">
            <button id="categoriesBtn" class="cat-btn">קטגוריות ▼</button>

            <ul id="categoriesMenu" class="cat-menu hidden">
                <li>משחקי פעולה</li>
                <li>משחקי מחשבה</li>
                <li>משחקי מרוצים</li>
                <li>משחקי ילדים</li>
                <li>משחקי ספורט</li>
                <li>משחקי הרפתקאות</li>
            </ul>
        </div>
    </nav>

    <div class="icons">
        <button id="profileBtn" class="icon-btn" title="פרופיל אישי">👤</button>
        <button id="logoutBtn" class="icon-btn logout-style" title="התנתקות">🏃</button>
    </div>
</header>

<h2 class="section-title">כל המשחקים</h2>

<div class="games-grid">

    <!-- משחק פעיל 1 -->
    <div class="game-card active" onclick="openGame(1)">
        <img src="../img/image1.jpg" alt="">
        <div class="game-name"> תפוס את הקובייה </div>
    </div>

    <!-- משחק פעיל 2 -->
    <div class="game-card active" onclick="openGame(2)">
        <img src="../img/image2.png" alt="">
        <div class="game-name">טריוויה</div>
    </div>

    <!-- שאר המשחקים — בפיתוח -->
<div class="game-card disabled">
    <img src="../img/image3.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name"> כדור אדום</div>
</div>
<div class="game-card disabled">
    <img src="../img/image4.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">מיינקראפט </div>
</div>
<div class="game-card disabled">
    <img src="../img/image5.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">קיזי </div>
</div>
<div class="game-card disabled">
    <img src="../img/image6.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">מרוץ מכוניות </div>
</div>
<div class="game-card disabled">
    <img src="../img/image7.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">רובי הרובוט </div>
</div>
<div class="game-card disabled">
    <img src="../img/image8.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">שדה תימן</div>
</div>
<div class="game-card disabled">
    <img src="../img/image9.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">מפלצות </div>
</div>
<div class="game-card disabled">
    <img src="../img/image10.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">אל תפיל תבקבוק </div>
</div>
<div class="game-card disabled">
    <img src="../img/image11.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">איירון בול </div>
</div>
<div class="game-card disabled">
    <img src="../img/image12.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">דומינו </div>
</div>
<div class="game-card disabled">
    <img src="../img/image13.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">מסלול בוץ </div>
</div>
<div class="game-card disabled">
    <img src="../img/image14.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">באבלס </div>
</div>
<div class="game-card disabled">
    <img src="../img/image15.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">חלי החילזון </div>
</div>
<div class="game-card disabled">
    <img src="../img/image16.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">חילוץ מכוניות  </div>
</div>
<div class="game-card disabled">
    <img src="../img/image17.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name"> דינמונס </div>
</div>
<div class="game-card disabled">
    <img src="../img/image18.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">טאף בוי </div>
</div>
<div class="game-card disabled">
    <img src="../img/image19.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">קוים זוהרים </div>
</div>
<div class="game-card disabled">
    <img src="../img/image20.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">מרוץ אופנועים </div>
</div>
<div class="game-card disabled">
    <img src="../img/image21.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">אש ומים 5 </div>
</div>
<div class="game-card disabled">
    <img src="../img/image22.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">ריף דולפינים </div>
</div>
<div class="game-card disabled">
    <img src="../img/image23.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">על ראש הגנב בוער הכובע </div>
</div>
<div class="game-card disabled">
    <img src="../img/image24.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">קולור לאב </div>
</div>
<div class="game-card disabled">
    <img src="../img/image25.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">טום החתול </div>
</div>
<div class="game-card disabled">
    <img src="../img/image26.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">עד מתי </div>
</div>
<div class="game-card disabled">
    <img src="../img/image27.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">בולס רייס </div>
</div>
<div class="game-card disabled">
    <img src="../img/image28.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">מיצי החתול </div>
</div>
<div class="game-card disabled">
    <img src="../img/image29.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">מוטוסייקל רייס </div>
</div>
<div class="game-card disabled">
    <img src="../img/image30.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">קליעה לבלוט </div>
</div>
<div class="game-card disabled">
    <img src="../img/image31.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">משקה יקר  </div>
</div>
<div class="game-card disabled">
    <img src="../img/image32.jpg">
    <div class="ribbon">בפיתוח</div>
    <div class="game-name">פייר הירו </div>
</div>



<!-- מודאל פרופיל  -->
<div id="profileModal" class="profile-modal-overlay hidden">
    <div class="profile-card-glass">
        <button id="closeProfileBtn" class="close-clean-btn">✕</button>

        <div class="profile-header">
            <div class="profile-avatar-container">
                <img src="../img/imagelogo.png" alt="Avatar" class="profile-avatar-img">
            </div>
            <h2 id="p_user">--</h2>
            <span class="user-badge">שחקן מתחיל</span>
        </div>

        <div class="stats-grid">
            <div class="stat-box">
                <span class="stat-value" id="p_games">0</span>
                <span class="stat-label">משחקים</span>
            </div>
            <div class="stat-box">
                <span class="stat-value" id="p_wins">0</span> <span class="stat-label">ניצחונות</span>
            </div>
            <div class="stat-box">
                <span class="stat-value" id="p_logins">0</span>
                <span class="stat-label">ביקורים</span>
            </div>
            <div class="stat-box">
                <span class="stat-value" id="p_date">--</span>
                <span class="stat-label">הצטרפות</span>
            </div>
        </div>

        <div class="highlight-row">
            <div class="highlight-item">
                <div class="gold-text" id="p_coins">0</div>
                <div class="stat-label">מטבעות</div>
            </div>
            <div class="highlight-item">
                <div class="score-text" id="p_score">0</div>
                <div class="stat-label">ניקוד</div>
            </div>
        </div>

        <a href="leaderboard.html" class="action-btn">🏆 לטבלת המובילים</a>
    </div>
</div>

<script src="../js/users.js"></script>
<script src="../js/profile-modal.js"></script>

<script>
function openGame(num) {
    if (num === 1) window.location.href = "catch-cube.html";
    if (num === 2) window.location.href = "trivia.html";
}

// קוד קטגוריות
document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("categoriesBtn");
    const menu = document.getElementById("categoriesMenu");

    if (!btn || !menu) return;

    btn.addEventListener("click", (event) => {
        event.stopPropagation();
        menu.classList.toggle("hidden");
    });

    document.addEventListener("click", (event) => {
        if (!menu.contains(event.target) && !btn.contains(event.target)) {
            menu.classList.add("hidden");
        }
    });
});
</script>

<script>
// --- לוגיקת התנתקות ---
document.addEventListener("DOMContentLoaded", () => {
    const logoutBtn = document.getElementById("logoutBtn");

    if (logoutBtn) {
        logoutBtn.addEventListener("click", () => {
            // שואלים את המשתמש אם הוא בטוח
            if (confirm("האם את/ה בטוח/ה שברצונך להתנתק?")) {
                // קוראים לפונקציה הקיימת ב-UserStore
                if (typeof UserStore !== "undefined") {
                    UserStore.logout();
                } else {
                    // גיבוי למקרה שיש בעיה בטעינת הקובץ
                    window.location.href = "../index.html";
                }
            }
        });
    }
});
</script>

</body>
</html>